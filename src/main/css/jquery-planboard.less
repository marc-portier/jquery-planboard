/*
 jQuery Planboard version @VERSION - @DATE - http://github.com/marc-portier/jquery-planboard

 (c) 2012, Marc Portier
 CC-SA-BY license 2.0 - BE, see http://creativecommons.org/licenses/by/2.0/be/
*/
@northScrollHeight: 95px;
@westScrollWidth:   95px;
@scrollBarSize:     16px;
@jspSize:           16px;
        
@unitBorder:  1px;
@unitSize:    32px;
@unitHeight:  @unitSize;
@unitWidth:   @unitSize;
@coreHeight:  @unitHeight - (@unitBorder);
@coreWidth:   @unitWidth - (@unitBorder);
@toolSize:    @unitSize;

@monthHeight: 25px;

@pbBaseColor:            rgba(255,255,248,1);
@pbTextColor:            lighten(rgba(0, 0, 7, 1), 15%);

@pbPaleColor:            fadeout(@pbBaseColor, 80%);
@r0BackColor:            fadein(@pbBaseColor, 100%);
@r1BackColor:            spin(@r0BackColor, 90);

@m0BackColor:            darken(spin(@pbPaleColor, 15),10%);
@m0TextColor:            fadein(darken(@m0BackColor, 50%), 100%);
@m1BackColor:            spin(@m0BackColor, 180);
@m1TextColor:            fadein(darken(@m1BackColor, 50%), 100%);
@wem0BackColor:          desaturate(@m0BackColor, 80%);
@wem1BackColor:          desaturate(@m1BackColor, 80%);

@periodBackColor:        darken(spin(@pbPaleColor, 330), 10%);
@periodTextColor:        fadein(darken(@periodBackColor, 50%), 100%);

@DefaultRadius: 8px;
.border-radius(@Radius: @DefaultRadius) {
    -moz-border-radius:    @Radius;
    -webkit-border-radius: @Radius;
    border-radius:         @Radius;
}

.top-border-radius(@Radius: @DefaultRadius) {
    -moz-border-radius-topleft: @Radius;
    -moz-border-radius-topright: @Radius;
    -moz-border-radius-bottomright: 0;
    -moz-border-radius-bottomleft: 0;

    -webkit-border-top-left-radius: @Radius;
    -webkit-border-top-right-radius: @Radius;
    -webkit-border-bottom-right-radius: 0;
    -webkit-border-bottom-left-radius: 0;    
}


// The styles for this imageless css button was generated by CSSButtonGenerator.com
.glow-vertical(@GlowColor: #ededed, @ButtonColor: #dfdfdf) {
	background:-webkit-gradient( linear, left top, left bottom, color-stop(0.05, @GlowColor), color-stop(1, @ButtonColor) );
	background:-moz-linear-gradient( center top, @GlowColor 5%, @ButtonColor 100% );
	background-color:@GlowColor;
}
.glow-button(@GlowColor: #ededed, @ButtonColor: #dfdfdf, @TextColor: #777777, @TextShadowColor: #ffffff, @BorderColor: #dcdcdc, @ShadowColor: #ffffff, @Radius: 24px) {
    .border-radius(@Radius);
    
	-moz-box-shadow:inset 0px 1px 1px 0px @ShadowColor;
	-webkit-box-shadow:inset 0px 1px 1px 0px @ShadowColor;
	box-shadow:inset 0px 1px 1px 0px @ShadowColor;
	 
    .glow-vertical(@GlowColor, @ButtonColor);
    	
	border:1px solid @BorderColor;
	
	display:inline-block;
	color: @TextColor;
	text-decoration:none;
	text-shadow:1px 1px 1px @TextShadowColor;

	&:hover {
        .glow-vertical(@ButtonColor, @GlowColor);
	}
	
	&:active {
	    position:relative;
	    top:1px;
	}
}

.planboard {
    margin:             0;
    padding:            0;
    border:             0;
    text-align:         center;
    font-size:          0.8em;
    font-family:        sans-serif;
    overflow:           hidden;
    color:              @pbTextColor;

    .highlight {
        font-weight:    bold;
        font-size:      1.8em;
        color:          #c92200;
    }
    
    .row:nth-child(even) {  
        background-color: @r0BackColor;
    }
    .row:nth-child(odd) {
        background-color: @r1BackColor;
    }
        
    .uc {
        border-left:    @unitBorder solid black;
        overflow:       hidden;
    }
    .uc:first-child {
        border-top:     @unitBorder solid black;
    }

    .u {
        border-bottom:  @unitBorder solid black;
        border-right:   @unitBorder dashed black;
        overflow:       visible;
        overflow-y:     visible;
        float:          left;
        line-height:    @unitHeight;
        position:       relative;

        &.row:nth-child(even) {  
            background-color: @r0BackColor;
        }
        &.row:nth-child(odd) {
            background-color: @r1BackColor;
        }
        
        &.h {
            height:         @coreHeight;
        }
        &.w {
            width:          @coreWidth;
        }      
        .cell {
            &.pmark {
                background-color: @periodBackColor;
                z-index:          1;
            }
            height:         @coreHeight;
            width:          @coreWidth;
        }
        
        // m0 is default
        background-color:  @m0BackColor;

        &.we {
            background-color:  @wem0BackColor;
        }

        &.m1 {
            background-color:  @m1BackColor;
        }
        
        &.m1.we {
            background-color:  @wem1BackColor;
        }
        
        .period {
            .top-border-radius(@monthHeight);
            position:         absolute;
            top:              -2 * @monthHeight;
            height:           110px;
            padding-top:      5px;
            background-color: @periodBackColor;
            color:            @periodTextColor;
            overflow:         hidden;
            font-weight:      bold;
            font-size:        12px !important;
        }
    }

    .months {
        overflow: hidden;
        height: @monthHeight;

        .month {
            .top-border-radius(@monthHeight);
            float:       left;
            overflow:    hidden;
            height:      @monthHeight;
            padding-top: 5px;
            border:      1px dashed black;
            font-weight: bold;

            // m0 is default
            background-color:  @m0BackColor;
            color:             @m0TextColor;

            &.m1 {
                background-color:  @m1BackColor;
                color:             @m1TextColor;
            }

        }
    }

    .row {
      margin: 0;
    }
    
    .board {
        .u.h.w {
            position: relative;
            
            .alloc {
                position:         absolute;
                overflow:         hidden;
                background-color: rgba(50,50,50,0.5);
	            display:          inline-block;

                font-size:        0.85em;
                font-weight:      bold;

                height:           24px;
                line-height:      28px;
                top:              2px;
                
                z-index:          1;                
                .glow-button(#ededed, #dfdfdf, #777777, #ffffff, #dcdcdc, #fffffff);
            }
        }
    }
    
    .tools {
        z-index: 3;
        position: relative;
        
        .tool {
            vertical-align:  middle;
            text-align:      center;
            height:          @toolSize;
            width:           @toolSize;
            clear:           both;
            float:           left;
            padding:         0px;
            img {
                height: @toolSize - 4;
                width:  @toolSize - 4;
            }
            .glow-vertical(#f0f0f0, #a0a0a0);
            &.pressed {
                .glow-vertical(#a0a0a0, #f0f0f0);
            }
        }
        .datepick {
            z-index: 3;
            position: absolute;
            right: 0px;
        }
    }
    
    .status {
        overflow: hidden;
        background-color: #eef;
        text-align: left;
        padding-left: 2em;
        padding-right: 2em;
        font-style: italic;
    }
    
    .north, .south, .east, .west, .equator, .meridian {
        float:          left;
        text-align:     center;
        overflow:       visible;
        position:       relative;
    }
    .north, .south {
    }
    .east, .west {
    }
    .north {
        .uc {
            overflow: visible;
        }
        .u.w {
            // height: @northScrollHeight - @jspSize - 2 * (@unitBorder); 
            line-height: @unitHeight * 3 / 4; 
        }
        .periods, .months {
            height: @monthHeight;
        }
        &.east {
            button.colAppend {
                height: @toolSize;
                width:  @toolSize;
                float:  left;
            }
        }
        &.west {
            button.colPrepend {
                height:       @toolSize;
                width:        @toolSize;
                float:        right;
                margin-right: @scrollBarSize;
            }
        }
    }    
    .south {
    }
    .west {
        clear:          left;
        .u.h {
            width: @westScrollWidth - @jspSize - 2 * (@unitBorder);
        }
    }
    .equator.meridian {
    }
    .east {
        float:          right;
        text-align:     right;
    }
}

.jspVerticalBar, .jspHorizontalBar {
    z-index: 2;
}

